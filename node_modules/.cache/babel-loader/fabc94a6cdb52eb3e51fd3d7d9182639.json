{"ast":null,"code":"var _jsxFileName = \"/Users/ad3sh/Desktop/waveportal-starter-project/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { ethers } from \"ethers\";\nimport abi from \"./utils/wavePortal.json\";\n\nconst App = () => {\n  /*\n   * Just a state variable we use to store our user's public wallet.\n   */\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [allWaves, setAllWaves] = useState([]);\n  const contractAddress = \"0xd1ada0a928504e4e2ff3e314dbc791c1a37d2229\"; // copy paste the address after deploying your smart comtract to rinkeby\n\n  const contractABI = abi.abi;\n  const [count, updateCount] = useState(0);\n  /*\n   * Create a method that gets all waves from your contract\n   */\n\n  const getAllWaves = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (ethereum) {\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const wavePortalContract = new ethers.Contract(contractAddress, contractABI, signer);\n        /*\n         * Call the getAllWaves method from your Smart Contract\n         */\n\n        const waves = await wavePortalContract.getAllWaves();\n        /*\n         * We only need address, timestamp, and message in our UI so let's\n         * pick those out\n         */\n\n        let wavesCleaned = [];\n        waves.forEach(wave => {\n          wavesCleaned.push({\n            address: wave.waver,\n            timestamp: new Date(wave.timestamp * 1000),\n            message: wave.message\n          });\n        });\n        /*\n         * Store our data in React State\n         */\n\n        setAllWaves(wavesCleaned);\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const checkIfWalletIsConnected = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (!ethereum) {\n        console.log(\"Make sure you have metamask!\");\n        return;\n      } else {\n        console.log(\"We have the ethereum object\", ethereum);\n      }\n      /*\n       * Check if we're authorized to access the user's wallet\n       */\n\n\n      const accounts = await ethereum.request({\n        method: \"eth_accounts\"\n      });\n\n      if (accounts.length !== 0) {\n        const account = accounts[0];\n        console.log(\"Found an authorized account:\", account);\n        setCurrentAccount(account);\n        getAllWaves();\n      } else {\n        console.log(\"No authorized account found\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  /**\n   * Implement your connectWallet method here\n   */\n\n\n  const connectWallet = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (!ethereum) {\n        alert(\"Get MetaMask!\");\n        return;\n      }\n\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      console.log(\"Connected\", accounts[0]);\n      setCurrentAccount(accounts[0]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const wave = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (ethereum) {\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const wavePortalContract = new ethers.Contract(contractAddress, contractABI, signer);\n        let newC = await wavePortalContract.getTotalWaves();\n        console.log(\"Retrieved total wave count...\", newC.toNumber());\n        updateCount(newC.toNumber());\n        /*\n         * Execute the actual wave from your smart contract\n         */\n\n        const waveTxn = await wavePortalContract.wave();\n        console.log(\"Mining...\", waveTxn.hash);\n        await waveTxn.wait();\n        console.log(\"Mined -- \", waveTxn.hash);\n        newC = await wavePortalContract.getTotalWaves();\n        console.log(\"Retrieved total wave count...\", newC.toNumber());\n        updateCount(newC.toNumber());\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    checkIfWalletIsConnected();\n    let wavePortalContract;\n\n    const onNewWave = (from, timestamp, message) => {\n      console.log(\"NewWave\", from, timestamp, message);\n      setAllWaves(prevState => [...prevState, {\n        address: from,\n        timestamp: new Date(timestamp * 1000),\n        message: message\n      }]);\n    };\n\n    if (window.ethereum) {\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const signer = provider.getSigner();\n      wavePortalContract = new ethers.Contract(contractAddress, contractABI, signer);\n      wavePortalContract.on(\"NewWave\", onNewWave);\n    }\n\n    return () => {\n      if (wavePortalContract) {\n        wavePortalContract.off(\"NewWave\", onNewWave);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dataContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, \" \\uD83D\\uDC4BHey there! \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, \"I am Adesh.Connect your Ethereum wallet and wave at me!\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"waveButton\",\n    onClick: wave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, \"Wave at Me \"), \" \", \" \", !currentAccount && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"waveButton\",\n    onClick: connectWallet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 34\n    }\n  }, \"Connect Wallet \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, \" Current received waves - \", count, \" \"), \" \", allWaves.map((wave, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      style: {\n        backgroundColor: \"OldLace\",\n        marginTop: \"16px\",\n        padding: \"8px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, \" Address: \", wave.address, \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 61\n      }\n    }, \" Time: \", wave.timestamp.toString(), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 71\n      }\n    }, \" Message: \", wave.message, \" \"), \" \");\n  }), \" \"), \" \");\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/ad3sh/Desktop/waveportal-starter-project/src/App.js"],"names":["React","useEffect","useState","ethers","abi","App","currentAccount","setCurrentAccount","allWaves","setAllWaves","contractAddress","contractABI","count","updateCount","getAllWaves","ethereum","window","provider","providers","Web3Provider","signer","getSigner","wavePortalContract","Contract","waves","wavesCleaned","forEach","wave","push","address","waver","timestamp","Date","message","console","log","error","checkIfWalletIsConnected","accounts","request","method","length","account","connectWallet","alert","newC","getTotalWaves","toNumber","waveTxn","hash","wait","onNewWave","from","prevState","on","off","map","index","backgroundColor","marginTop","padding","toString"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAOC,GAAP,MAAgB,yBAAhB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AACd;AACJ;AACA;AACI,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCL,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAMQ,eAAe,GAAG,4CAAxB,CANc,CAMwD;;AACtE,QAAMC,WAAW,GAAGP,GAAG,CAACA,GAAxB;AACA,QAAM,CAACQ,KAAD,EAAQC,WAAR,IAAuBX,QAAQ,CAAC,CAAD,CAArC;AAEA;AACJ;AACA;;AACI,QAAMY,WAAW,GAAG,YAAW;AAC3B,QAAI;AACA,YAAM;AAAEC,QAAAA;AAAF,UAAeC,MAArB;;AACA,UAAID,QAAJ,EAAc;AACV,cAAME,QAAQ,GAAG,IAAId,MAAM,CAACe,SAAP,CAAiBC,YAArB,CAAkCJ,QAAlC,CAAjB;AACA,cAAMK,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AACA,cAAMC,kBAAkB,GAAG,IAAInB,MAAM,CAACoB,QAAX,CACvBb,eADuB,EAEvBC,WAFuB,EAGvBS,MAHuB,CAA3B;AAMA;AAChB;AACA;;AACgB,cAAMI,KAAK,GAAG,MAAMF,kBAAkB,CAACR,WAAnB,EAApB;AAEA;AAChB;AACA;AACA;;AACgB,YAAIW,YAAY,GAAG,EAAnB;AACAD,QAAAA,KAAK,CAACE,OAAN,CAAeC,IAAD,IAAU;AACpBF,UAAAA,YAAY,CAACG,IAAb,CAAkB;AACdC,YAAAA,OAAO,EAAEF,IAAI,CAACG,KADA;AAEdC,YAAAA,SAAS,EAAE,IAAIC,IAAJ,CAASL,IAAI,CAACI,SAAL,GAAiB,IAA1B,CAFG;AAGdE,YAAAA,OAAO,EAAEN,IAAI,CAACM;AAHA,WAAlB;AAKH,SAND;AAQA;AAChB;AACA;;AACgBxB,QAAAA,WAAW,CAACgB,YAAD,CAAX;AACH,OA/BD,MA+BO;AACHS,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACH;AACJ,KApCD,CAoCE,OAAOC,KAAP,EAAc;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH;AACJ,GAxCD;;AA0CA,QAAMC,wBAAwB,GAAG,YAAW;AACxC,QAAI;AACA,YAAM;AAAEtB,QAAAA;AAAF,UAAeC,MAArB;;AAEA,UAAI,CAACD,QAAL,EAAe;AACXmB,QAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACA;AACH,OAHD,MAGO;AACHD,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CpB,QAA3C;AACH;AAED;AACZ;AACA;;;AACY,YAAMuB,QAAQ,GAAG,MAAMvB,QAAQ,CAACwB,OAAT,CAAiB;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAjB,CAAvB;;AAEA,UAAIF,QAAQ,CAACG,MAAT,KAAoB,CAAxB,EAA2B;AACvB,cAAMC,OAAO,GAAGJ,QAAQ,CAAC,CAAD,CAAxB;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CO,OAA5C;AACAnC,QAAAA,iBAAiB,CAACmC,OAAD,CAAjB;AACA5B,QAAAA,WAAW;AACd,OALD,MAKO;AACHoB,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACH;AACJ,KAvBD,CAuBE,OAAOC,KAAP,EAAc;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH;AACJ,GA3BD;AA6BA;AACJ;AACA;;;AACI,QAAMO,aAAa,GAAG,YAAW;AAC7B,QAAI;AACA,YAAM;AAAE5B,QAAAA;AAAF,UAAeC,MAArB;;AAEA,UAAI,CAACD,QAAL,EAAe;AACX6B,QAAAA,KAAK,CAAC,eAAD,CAAL;AACA;AACH;;AAED,YAAMN,QAAQ,GAAG,MAAMvB,QAAQ,CAACwB,OAAT,CAAiB;AACpCC,QAAAA,MAAM,EAAE;AAD4B,OAAjB,CAAvB;AAIAN,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBG,QAAQ,CAAC,CAAD,CAAjC;AACA/B,MAAAA,iBAAiB,CAAC+B,QAAQ,CAAC,CAAD,CAAT,CAAjB;AACH,KAdD,CAcE,OAAOF,KAAP,EAAc;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH;AACJ,GAlBD;;AAoBA,QAAMT,IAAI,GAAG,YAAW;AACpB,QAAI;AACA,YAAM;AAAEZ,QAAAA;AAAF,UAAeC,MAArB;;AACA,UAAID,QAAJ,EAAc;AACV,cAAME,QAAQ,GAAG,IAAId,MAAM,CAACe,SAAP,CAAiBC,YAArB,CAAkCJ,QAAlC,CAAjB;AACA,cAAMK,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AACA,cAAMC,kBAAkB,GAAG,IAAInB,MAAM,CAACoB,QAAX,CACvBb,eADuB,EAEvBC,WAFuB,EAGvBS,MAHuB,CAA3B;AAMA,YAAIyB,IAAI,GAAG,MAAMvB,kBAAkB,CAACwB,aAAnB,EAAjB;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6CU,IAAI,CAACE,QAAL,EAA7C;AACAlC,QAAAA,WAAW,CAACgC,IAAI,CAACE,QAAL,EAAD,CAAX;AACA;AAChB;AACA;;AACgB,cAAMC,OAAO,GAAG,MAAM1B,kBAAkB,CAACK,IAAnB,EAAtB;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBa,OAAO,CAACC,IAAjC;AAEA,cAAMD,OAAO,CAACE,IAAR,EAAN;AACAhB,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBa,OAAO,CAACC,IAAjC;AAEAJ,QAAAA,IAAI,GAAG,MAAMvB,kBAAkB,CAACwB,aAAnB,EAAb;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6CU,IAAI,CAACE,QAAL,EAA7C;AACAlC,QAAAA,WAAW,CAACgC,IAAI,CAACE,QAAL,EAAD,CAAX;AACH,OAxBD,MAwBO;AACHb,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACH;AACJ,KA7BD,CA6BE,OAAOC,KAAP,EAAc;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH;AACJ,GAjCD;;AAmCAnC,EAAAA,SAAS,CAAC,MAAM;AACZoC,IAAAA,wBAAwB;AACxB,QAAIf,kBAAJ;;AAEA,UAAM6B,SAAS,GAAG,CAACC,IAAD,EAAOrB,SAAP,EAAkBE,OAAlB,KAA8B;AAC5CC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBiB,IAAvB,EAA6BrB,SAA7B,EAAwCE,OAAxC;AACAxB,MAAAA,WAAW,CAAE4C,SAAD,IAAe,CACvB,GAAGA,SADoB,EAEvB;AACIxB,QAAAA,OAAO,EAAEuB,IADb;AAEIrB,QAAAA,SAAS,EAAE,IAAIC,IAAJ,CAASD,SAAS,GAAG,IAArB,CAFf;AAGIE,QAAAA,OAAO,EAAEA;AAHb,OAFuB,CAAhB,CAAX;AAQH,KAVD;;AAYA,QAAIjB,MAAM,CAACD,QAAX,EAAqB;AACjB,YAAME,QAAQ,GAAG,IAAId,MAAM,CAACe,SAAP,CAAiBC,YAArB,CAAkCH,MAAM,CAACD,QAAzC,CAAjB;AACA,YAAMK,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AAEAC,MAAAA,kBAAkB,GAAG,IAAInB,MAAM,CAACoB,QAAX,CACjBb,eADiB,EAEjBC,WAFiB,EAGjBS,MAHiB,CAArB;AAKAE,MAAAA,kBAAkB,CAACgC,EAAnB,CAAsB,SAAtB,EAAiCH,SAAjC;AACH;;AAED,WAAO,MAAM;AACT,UAAI7B,kBAAJ,EAAwB;AACpBA,QAAAA,kBAAkB,CAACiC,GAAnB,CAAuB,SAAvB,EAAkCJ,SAAlC;AACH;AACJ,KAJD;AAKH,GAjCQ,EAiCN,EAjCM,CAAT;AAmCA,sBAAS;AACD,IAAA,SAAS,EAAG,eADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEL;AACI,IAAA,SAAS,EAAG,eADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEA;AACI,IAAA,SAAS,EAAG,QADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFA,eAKA;AACI,IAAA,SAAS,EAAG,KADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DALA,eAWA;AACO,IAAA,SAAS,EAAG,YADnB;AAEA,IAAA,OAAO,EAAKxB,IAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAXA,YAoBI,CAACrB,cAAD,iBAAqB;AACV,IAAA,SAAS,EAAG,YADF;AAEjB,IAAA,OAAO,EAAKqC,aAFK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBApBzB,oBA0BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAC+B/B,KAD/B,MA1BF,OA4BIJ,QAAQ,CAACgD,GAAT,CAAa,CAAC7B,IAAD,EAAO8B,KAAP,KAAiB;AAC1B,wBAAS;AACD,MAAA,GAAG,EAAKA,KADP;AAEL,MAAA,KAAK,EACD;AACIC,QAAAA,eAAe,EAAE,SADrB;AAEIC,QAAAA,SAAS,EAAE,MAFf;AAGIC,QAAAA,OAAO,EAAE;AAHb,OAHC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACiBjC,IAAI,CAACE,OADtB,MATK,oBAUmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAC1BF,IAAI,CAACI,SAAL,CAAe8B,QAAf,EAD0B,MAVnC,oBAW6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACjClC,IAAI,CAACM,OAD4B,MAX7C,MAAT;AAeH,GAhBD,CA5BJ,MAFK,MAAT;AAmDH,CApOD;;AAqOA,eAAe5B,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { ethers } from \"ethers\";\nimport abi from \"./utils/wavePortal.json\";\n\nconst App = () => {\n    /*\n     * Just a state variable we use to store our user's public wallet.\n     */\n    const [currentAccount, setCurrentAccount] = useState(\"\");\n    const [allWaves, setAllWaves] = useState([]);\n    const contractAddress = \"0xd1ada0a928504e4e2ff3e314dbc791c1a37d2229\"; // copy paste the address after deploying your smart comtract to rinkeby\n    const contractABI = abi.abi;\n    const [count, updateCount] = useState(0);\n\n    /*\n     * Create a method that gets all waves from your contract\n     */\n    const getAllWaves = async() => {\n        try {\n            const { ethereum } = window;\n            if (ethereum) {\n                const provider = new ethers.providers.Web3Provider(ethereum);\n                const signer = provider.getSigner();\n                const wavePortalContract = new ethers.Contract(\n                    contractAddress,\n                    contractABI,\n                    signer\n                );\n\n                /*\n                 * Call the getAllWaves method from your Smart Contract\n                 */\n                const waves = await wavePortalContract.getAllWaves();\n\n                /*\n                 * We only need address, timestamp, and message in our UI so let's\n                 * pick those out\n                 */\n                let wavesCleaned = [];\n                waves.forEach((wave) => {\n                    wavesCleaned.push({\n                        address: wave.waver,\n                        timestamp: new Date(wave.timestamp * 1000),\n                        message: wave.message,\n                    });\n                });\n\n                /*\n                 * Store our data in React State\n                 */\n                setAllWaves(wavesCleaned);\n            } else {\n                console.log(\"Ethereum object doesn't exist!\");\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    const checkIfWalletIsConnected = async() => {\n        try {\n            const { ethereum } = window;\n\n            if (!ethereum) {\n                console.log(\"Make sure you have metamask!\");\n                return;\n            } else {\n                console.log(\"We have the ethereum object\", ethereum);\n            }\n\n            /*\n             * Check if we're authorized to access the user's wallet\n             */\n            const accounts = await ethereum.request({ method: \"eth_accounts\" });\n\n            if (accounts.length !== 0) {\n                const account = accounts[0];\n                console.log(\"Found an authorized account:\", account);\n                setCurrentAccount(account);\n                getAllWaves();\n            } else {\n                console.log(\"No authorized account found\");\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    /**\n     * Implement your connectWallet method here\n     */\n    const connectWallet = async() => {\n        try {\n            const { ethereum } = window;\n\n            if (!ethereum) {\n                alert(\"Get MetaMask!\");\n                return;\n            }\n\n            const accounts = await ethereum.request({\n                method: \"eth_requestAccounts\",\n            });\n\n            console.log(\"Connected\", accounts[0]);\n            setCurrentAccount(accounts[0]);\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    const wave = async() => {\n        try {\n            const { ethereum } = window;\n            if (ethereum) {\n                const provider = new ethers.providers.Web3Provider(ethereum);\n                const signer = provider.getSigner();\n                const wavePortalContract = new ethers.Contract(\n                    contractAddress,\n                    contractABI,\n                    signer\n                );\n\n                let newC = await wavePortalContract.getTotalWaves();\n                console.log(\"Retrieved total wave count...\", newC.toNumber());\n                updateCount(newC.toNumber());\n                /*\n                 * Execute the actual wave from your smart contract\n                 */\n                const waveTxn = await wavePortalContract.wave();\n                console.log(\"Mining...\", waveTxn.hash);\n\n                await waveTxn.wait();\n                console.log(\"Mined -- \", waveTxn.hash);\n\n                newC = await wavePortalContract.getTotalWaves();\n                console.log(\"Retrieved total wave count...\", newC.toNumber());\n                updateCount(newC.toNumber());\n            } else {\n                console.log(\"Ethereum object doesn't exist!\");\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    useEffect(() => {\n        checkIfWalletIsConnected();\n        let wavePortalContract;\n\n        const onNewWave = (from, timestamp, message) => {\n            console.log(\"NewWave\", from, timestamp, message);\n            setAllWaves((prevState) => [\n                ...prevState,\n                {\n                    address: from,\n                    timestamp: new Date(timestamp * 1000),\n                    message: message,\n                },\n            ]);\n        };\n\n        if (window.ethereum) {\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\n            const signer = provider.getSigner();\n\n            wavePortalContract = new ethers.Contract(\n                contractAddress,\n                contractABI,\n                signer\n            );\n            wavePortalContract.on(\"NewWave\", onNewWave);\n        }\n\n        return () => {\n            if (wavePortalContract) {\n                wavePortalContract.off(\"NewWave\", onNewWave);\n            }\n        };\n    }, []);\n\n    return ( <\n        div className = \"mainContainer\" >\n        <\n        div className = \"dataContainer\" >\n        <\n        div className = \"header\" > ðŸ‘‹Hey there! < /div>\n\n        <\n        div className = \"bio\" >\n        I am Adesh.Connect your Ethereum wallet and wave at me!\n        <\n        /div>\n\n        <\n        button className = \"waveButton\"\n        onClick = { wave } >\n        Wave at Me <\n        /button> {\n            /*\n             * If there is no currentAccount render this button\n             */\n        } {\n            !currentAccount && ( <\n                button className = \"waveButton\"\n                onClick = { connectWallet } >\n                Connect Wallet <\n                /button>\n            )\n        } <\n        div > Current received waves - { count } < /div> {\n            allWaves.map((wave, index) => {\n                return ( <\n                    div key = { index }\n                    style = {\n                        {\n                            backgroundColor: \"OldLace\",\n                            marginTop: \"16px\",\n                            padding: \"8px\",\n                        }\n                    } >\n                    <\n                    div > Address: { wave.address } < /div> <\n                    div > Time: { wave.timestamp.toString() } < /div> <\n                    div > Message: { wave.message } < /div> <\n                    /div>\n                );\n            })\n        } <\n        /div> <\n        /div>\n    );\n};\nexport default App;"]},"metadata":{},"sourceType":"module"}